{% extends "base.html" %}
{% block extra_css %}
<style>
    {% include "includes/css/matches.css" %}
    {% include "includes/css/api.css" %}
</style>
{% endblock %}

{% block title %}CS API{% endblock %}

{% block content %}

<div class="info-box">
  <h2 class="info-title">{{ hero_card.title }}</h2>
  <p class="info-text">{{ hero_card.description }}</p>
</div>

<div class="cards-container">
  <div class="card">
    <h2 class="card-title">Endpoints</h2>
      <div class="info-available">
        Available at <a href="https://api.csapi.de" target="_blank">https://api.csapi.de</a>
      </div>
      <div class="info-description">
          PUBLIC API &nbsp;·&nbsp; NO KEY REQUIRED
      </div>
    
    <div class="example-requests">
       <div class="endpoint-category">Example Requests</div>
    {% for example in example_requests %}
      <details>
        <summary>{{ example.url }}</summary>
        <pre>{{ example.response }}</pre>
      </details>
    {% endfor %}
  </div>
    <div class="api-links">
        {% for category, routes in endpoints.items() %}
            
            <h3 class="endpoint-category">{{ category }}</h3>

            {% for route in routes %}
            <a href="{{ api_base }}{{ route.path }}" target="_blank">
                {{ route.path }} — {{ route.description }}
            </a>
            {% endfor %}
        {% endfor %}

        </div>

  </div>
    


  <div class="card">
    <h2 class="card-title">Latest Results</h2>
    <div id="results" class="loading-text">Loading…</div>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script>
  {% include "includes/js/main.js" %}
  {% include "includes/js/highlight.js" %}

</script>
{% endblock %}
